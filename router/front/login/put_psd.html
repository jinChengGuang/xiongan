<style>
.bg-light{ background-color: #fff!important; height: 40px; line-height: 40px; }
.icon{ color: #333; }
</style>
<div class="container-fluid">
  <div class="row bg-light justify-content-left">
    <div class="col-2 text-center"><a href="javascript:history.go(-1)" class="icon">&#xe7c5;</a></div>
    <div class="col-8 text-center">修改密码</div>
  </div>
  <form action="#" class="m-40-auto-0 w-80">
    <div class="input-group mt-3">
      <span class="input-group-addon icon border-0" id="basic-addon1">&#xe74f;</span>
      <input type="password" class="from-control w-100" placeholder="请输入原密码" v-model='user.oldpassword'>
    </div>
    <div class="input-group mt-3">
      <span class="input-group-addon icon border-0" id="basic-addon1">&#xe74f;</span>
      <input type="password" class="from-control w-100" id='psd' placeholder="请输入密码" v-model='user.newpassword'>
    </div>
    <div class="input-group mt-3">
      <span class="input-group-addon icon border-0" id="basic-addon1">&#xe74f;</span>
      <input type="password" class="from-control w-100" id='repeat' placeholder="请确认密码">
    </div>
    <div class="text-center">
      <botton class="btn btn-warning mt-3 w-100 t-c-white" @click='modify'>保存</botton>
      <span class="text-right db f-s-8">点击保存，请使用新密码登陆</span>
    </div>
  </form>
</div>

<script>
new Vue({
  el: '#app',
  data: {
    user: {}
  },
  methods: {
    modify () {
      let psd = document.getElementById('psd').value
      let req = document.getElementById('repeat').value
      if(psd != req){
        alert('两次密码不一致')
        return false
      }
      this.ajax.put('/forgot/password',this.user, (res) => {
        console.log(res)
      }, (err) => {
        alert(err.errmsg)
      })
    }
  }
})
</script>