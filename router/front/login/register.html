<div class="container-fluid">
  <form action="#" class="m-50-auto-0 w-80">
    <div class="input-group mt-3">
      <span class="input-group-addon icon border-0" id="basic-addon1">&#xe745;</span>
      <input type="text" class="from-control w-100 in-out" placeholder="请输入账号" v-model='company.username'>
    </div>
    <div class="input-group mt-3">
      <span class="input-group-addon icon border-0" id="basic-addon1">&#xe74f;</span>
      <input type="password" class="from-control w-100 in-out" id='psd' placeholder="请输入密码" v-model='company.password'>
    </div>
    <div class="input-group mt-3">
      <span class="input-group-addon icon border-0" id="basic-addon1">&#xe74f;</span>
      <input type="password" class="from-control w-100 in-out" id='repeat' placeholder="请确认密码">
    </div>
    <div class="text-center">
      <a href="javascript:void(0)" class="btn btn-warning mt-3 w-100 t-c-white" @click='login'>注册</a>
    </div>
  </form>
</div>

<script>
  new Vue({
    el: '#app',
    data:{
      company:{},
    },
    methods:{
      login(){
        let psd = document.getElementById('psd').value
        let req = document.getElementById('repeat').value
        if(psd != req){
          weui.toast('两次密码不一致', 2000)
          return false
        }
        this.ajax.post('/company/register',this.company,(res)=>{
          weui.toast('注册成功', 1500)
          setTimeout("window.location.href='/front/login/login'",1500)
        },(err)=>{
          weui.toast(err.errmsg)
        })
      },
    }
  })
</script>