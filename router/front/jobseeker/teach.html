<style>
  .bg-light{ background-color: #fff!important; height: 50px; line-height: 50px; border-bottom: 1px solid #f1f1f1; }
</style>
<div class="container-fluid">
  <div class="row bg-light justify-content-left fixed-top">
    <div class="col-2 text-center"><a href="javascript:history.go(-1)" class="icon t-c-999">&#xe7c5;</a></div>
    <div class="col-8 text-center">教育经历</div>
  </div>
  <div class="m-t-50 bg-white">
    <div class="row bg-white f-s-9 pt-2 pb-2 bor-b-sol bor-f1">
      <div class="col-4">学校名称</div>
      <div class="col-8 text-right">
        <input type="text" class="border-0 text-right" placeholder="请输入学校名称" v-model='data.school'>
      </div>
    </div>

    <div class="row bg-white f-s-9 pt-2 pb-2 bor-b-sol bor-f1">
      <div class="col-4">学历/学位</div>
      <div class="col-8 text-right">
        <select>
          <option value="0">请选择</option>
          <option :value="v" v-for='v in education'> {{v}} </option>
        </select>
      </div>
    </div>

    <div class="row bg-white f-s-9 pt-2 pb-2 bor-b-sol bor-f1">
      <div class="col-4">开始时间</div>
      <div class="col-8 text-right">
        <input type="date" v-model='data.start'>
      </div>
    </div>

    <div class="row bg-white f-s-9 pt-2 pb-2 bor-b-sol bor-f1">
      <div class="col-4">结束时间</div>
      <div class="col-8 text-right">
        <input type="date" v-model='data.end'>
      </div>
    </div>

    <div class="row bg-white f-s-9 pt-2 pb-2 bor-b-sol bor-f1">
      <div class="col-4">专业</div>
      <div class="col-8 text-right">
        <input type="text" class="border-0 text-right" placeholder="请输入专业名称" v-model='data.speciality'>
      </div>
    </div>

    <div class="row bg-white f-s-9 pt-2 pb-2">
      <a @click='next' class="btn br-0 bg-primary t-c-white m-10-auto" >保存</a>
    </div>
 </div>
</div>
<script>
new Vue({
  el: '#app',
  data: {
    data:{},
    education:[]
  },
  mounted () {
    this.ajax.get('/education/list',(res) => {
      this.education = res.data
      }, (res) => {
        console.log(res.errmsg)
    })
  },
  methods: {
    next(){
      // 另一个页面传进来的值
      this.data.rid = 1
      this.data.start=(parseInt(new Date(this.data.start).getTime().toString().substr(0, 10)))
      this.data.end=(parseInt(new Date(this.data.end).getTime().toString().substr(0, 10)))
      this.ajax.post('/add/education', this.data,(res) => {
        console.log('提交成功')
        window.history.go(-1)
        }, (res) => {
          console.log(res.errmsg)
        })
    }
  }
})
</script>