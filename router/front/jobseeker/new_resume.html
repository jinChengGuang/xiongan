<%- tname %>
<div class="container-fluid m-t-46 bg-white">
  <div class="row p-x-p5 h-150" style = 'background-image:url("../../../skins/img/header.jpg")'>
    <div class="col-12 text-center p-t-p9" >
      <img class=" w-30 br-h" src="../../../skins/img/1.jpg" v-if='data.head'>
      <i class="icon f-s-40 bg-white br-h p-3" @click='openfile' v-else >&#xe81e;</i>
      <input type="file" class="dn" id = 'head' @change='upload'>
    </div>
  </div>
    
  <div class="row f-s-9  bor-b-sol bor-eae pt-2 pb-2">
    <div class="col-12 t-c-00b f-s-f17 ">个人基本信息</div>
  </div>

  <div class="row f-s-9  bor-b-sol bor-eae pt-2 pb-2 p-x-12">
    <label class="col-3 bor-r-sol bor-eae p-x-0">姓名</label>
    <div class="col-8 text-right">
      <input type="text" class="form-control-plaintext border-0 w-100 text-right p-y-0 in-out" placeholder="请输入姓名" v-model='data.name'>
    </div>
    <div class="col-1 align-self-center text-center p-x-0">
      <span class="t-c-e20">*</span>  
    </div>
  </div>

  <div class="row f-s-9  bor-b-sol bor-eae pt-2 pb-2 p-x-12">
    <label for="" class="col-3 bor-r-sol bor-eae p-x-0">性别</label>
    <div class="col-8 p-x-0 text-right">
      <div class="form-check form-check-inline m-b-0">
        <label class="form-check-label">
          <input class="form-check-input" type="radio" name="isopen" value="0" v-model='data.sex' > 男
        </label>
      </div>
      <div class="form-check form-check-inline m-b-0">
        <label class="form-check-label m-b-0">
          <input class="form-check-input" type="radio" name="isopen" value="1" v-model='data.sex'> 女
        </label>
      </div>
    </div>
    <div class="col-1 align-self-center text-center p-x-0">
      <span class="t-c-e20">*</span>  
    </div>
  </div>

  <div class="row f-s-9  bor-b-sol bor-eae pt-2 pb-2 p-x-12">
    <label class="col-3 bor-r-sol bor-eae p-x-0">出生年月</label>
    <div class="col-8 text-right">
      <input type="month" class="form-control form_datetime_2 " v-model='data.birthday'>
    </div>
    <div class="col-1 align-self-center text-center p-x-0">
      <span class="t-c-e20">*</span>  
    </div>
  </div>

  <div class="row f-s-9  bor-b-sol bor-eae pt-2 pb-2 p-x-12">
    <label for="" class="col-3 bor-r-sol bor-eae p-x-0">最高学历</label>
    <div class="col-8 p-x-0 align-self-center text-right">
      <select v-model='data.education' >
        <option v-for ="v in education" :value="v">{{v}}</option>
      </select>
    </div>
    <div class="col-1 align-self-center text-center p-x-0">
      <span class="t-c-e20">*</span>  
    </div>
  </div>

  <div class="row f-s-9  bor-b-sol bor-eae pt-2 pb-2 p-x-12">
    <label class="col-3 bor-r-sol bor-eae p-x-0">工作经验</label>
    <div class="col-8 p-x-0 align-self-center text-right">
      <select v-model='data.experience'>
        <option v-for ="v in kind" :value="v">{{v}}</option>
      </select>
    </div>
    <div class="col-1 align-self-center text-center p-x-0">
      <span class="t-c-e20">*</span>  
    </div>
  </div>

  <div class="row f-s-9  bor-b-sol bor-eae pt-2 pb-2 p-x-12">
    <label for="" class="col-3 bor-r-sol bor-eae p-x-0">现居住地</label>
    <div class="col-8 p-x-0 align-self-center text-right">  
      <select  v-model='data.area'>
        <option v-for ="v in area" :value="v">{{v}}</option>
      </select>
    </div>
    <div class="col-1 align-self-center text-center p-x-0 ">
      <span class="t-c-e20">*</span>  
    </div>
  </div>

  <div class="row f-s-9  bor-b-sol bor-eae pt-2 pb-2 p-x-12">
    <label for="" class="col-3 bor-r-sol bor-eae p-x-0">手机号码</label>
    <div class="col-8 text-right">
      <input type="text"  v-model='data.mobile' class="form-control-plaintext border-0 w-100 text-right p-y-0 in-out" placeholder="请输入手机号码">
    </div>
    <div class="col-1 align-self-center text-center p-x-0">
      <span class="t-c-e20">*</span>  
    </div>
  </div>

  <div class="row f-s-9  bor-b-sol bor-eae pt-2 pb-2 p-x-12">
    <label for="" class="col-3 bor-r-sol bor-eae p-x-0">邮箱</label>
    <div class="col-8 text-right">
      <input type="text" v-model='data.email' class="form-control-plaintext border-0 w-100 text-right p-y-0 in-out" placeholder="请输入邮箱">
    </div>
    <div class="col-1 align-self-center text-center p-x-0">
      <span class="t-c-e20">*</span>  
    </div>
  </div>
</div>

<div class="row item pt-3">
  <button @click='add' class="btn bg-00b t-c-white m-10-auto p-x-30">确定</button>
</div>
<script>
new Vue({
  el: '#app',
  data: {
    data: {
    },
    experience:[],
    education:[],
    area:[],
    kind:[],
    name:'我的简历'
  },
  mounted () {
    this.ajax.get('/experience/list', (res) => {
      this.experience = res.data
    }, (res) => {
      console.log(res.errmsg)
    })
    this.ajax.get('/education/list', (res) => {
      this.education = res.data
    }, (res) => {
      console.log(res.errmsg)
    })
    this.ajax.get('/area/list', (res) => {
      this.area = res.data
    }, (res) => {
      console.log(res.errmsg)
    })
    this.ajax.get('/experience/list', (res) => {
      this.kind = res.data
    }, (res) => {
      console.log(res.errmsg)
    })
  },
  methods: {
    add(){
      this.data.head = head.value
      this.data.birthday=(parseInt(new Date(this.data.birthday).getTime().toString().substr(0, 10)))
      this.ajax.post('/add/resume', this.data,(res) => {
      weui.toast('添加成功', 2000);
      setTimeout(function () { window.location.href='/front/jobseeker/job'}, 2000)
      }, (res) => {
        console.log(res.errmsg)
      })
    },
    openfile () {
     $(head).click()
		},
    upload(){
      this.data.head = head.value
    },
  }
})
</script>
